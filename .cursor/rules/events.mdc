---
description: 
globs: 
alwaysApply: true
---
# Events API Documentation

## Base Path

```
/api
```

---

## 1. Get All Events

- **Endpoint:** `GET /api/events`
- **Description:** Retrieve a list of all events with optional filtering.
- **Query Parameters:**
  - `isHistorical` (optional): Filter historical (past) or future events
    - `true` - Get past events only
    - `false` - Get future events only
    - `undefined` - Get all events
- **Response:**
  - `200 OK`  
    Returns an array of event objects.
  - `500 Internal Server Error`

---

## 2. Get Event by ID

- **Endpoint:** `GET /api/events/{id}`
- **Description:** Retrieve details of a specific event by its ID.
- **Path Parameter:**
  - `id` (integer, required): Event ID
- **Response:**
  - `200 OK`  
    Returns the event object.
  - `404 Not Found`  
    Event does not exist.
  - `500 Internal Server Error`

---

## 3. Create a New Event

- **Endpoint:** `POST /api/events`
- **Description:** Create a new event.
- **Request Body:**
  ```json
  {
    "organizerId": 101,
    "title": "Tech Conference",
    "description": "Exploring the latest technology trends",
    "location": "Shanghai Pudong Technology Park",
    "startTime": "2023-06-15T09:00:00.000Z",
    "endTime": "2023-06-15T17:00:00.000Z",
    "image": "https://example.com/images/tech-event.jpg",
    "capacity": 200
  }
  ```
- **Response:**
  - `201 Created`  
    Returns the created event object.
  - `400 Bad Request`  
    Missing required fields (title and startTime are required).
  - `500 Internal Server Error`

---

## 4. Update an Event

- **Endpoint:** `PUT /api/events/{id}`
- **Description:** Update an existing event.
- **Path Parameter:**
  - `id` (integer, required): Event ID
- **Request Body:** (any of the following fields)
  ```json
  {
    "organizerId": 102,
    "title": "Updated Tech Conference",
    "description": "Updated description",
    "location": "New Location",
    "startTime": "2023-06-16T09:00:00.000Z",
    "endTime": "2023-06-16T17:00:00.000Z",
    "image": "https://example.com/images/updated-event.jpg",
    "capacity": 300
  }
  ```
- **Response:**
  - `200 OK`  
    Returns the updated event object.
  - `404 Not Found`  
    Event does not exist.
  - `500 Internal Server Error`
---

## 5. Delete an Event

- **Endpoint:** `DELETE /api/events/{id}`
- **Description:** Delete an event by its ID.
- **Path Parameter:**
  - `id` (integer, required): Event ID
- **Response:**
  - `200 OK`  
    Returns a success message.
    ```json
    {
      "message": "事件删除成功"
    }
    ```
  - `404 Not Found`  
    Event does not exist.
  - `500 Internal Server Error`

---

## 6. Get Events by Organizer ID

- **Endpoint:** `GET /api/organizers/{id}/events`
- **Description:** Retrieve all events organized by a specific organizer.
- **Path Parameter:**
  - `id` (integer, required): Organizer ID
- **Response:**
  - `200 OK`  
    Returns an array of event objects.
  - `500 Internal Server Error`

---

## Data Model: Event

```json
{
  "id": 1,
  "organizerId": 101,
  "title": "Tech Conference",
  "description": "Exploring the latest technology trends",
  "location": "Shanghai Pudong Technology Park",
  "startTime": "2023-06-15T09:00:00.000Z",
  "endTime": "2023-06-15T17:00:00.000Z",
  "image": "https://example.com/images/tech-event.jpg",
  "capacity": 200,
  "createdAt": "2023-05-10T08:30:00.000Z"
}
```

---

## Field Descriptions

- **id**: Unique event identifier
- **organizerId**: ID of the user who organized the event
- **title**: Event title (required)
- **description**: Detailed description of the event
- **location**: Physical location where the event takes place
- **startTime**: Event start date and time (required, ISO 8601 format)
- **endTime**: Event end date and time (ISO 8601 format)
- **image**: URL to event image/poster
- **capacity**: Maximum number of participants
- **createdAt**: Timestamp when the event was created

---

## Usage Examples

### Get all future events
```
GET /api/events?isHistorical=false
```

### Get all past events
```
GET /api/events?isHistorical=true
```

### Create a minimal event
```json
{
  "title": "Quick Meeting",
  "startTime": "2023-06-20T14:00:00.000Z"
}
```

---

For more detailed field descriptions or error response structures, please refer to the Swagger documentation or backend implementation. 
